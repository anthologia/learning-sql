# Chap1. 배경
## 1.1 데이터베이스 소개
데이터베이스는 관련 정보의 집합이다.  

데이터베이스의 전산화된 데이터 저장 및 검색 메커니즘을 제공하기 위해 데이터베이스 시스템이 나타났다.


### 1.1.1 비관계형 데이터베이스 시스템
- 전산화된 데이터베이스 시스템의 다양한 데이터 저장 방식
  - 계층형(hierarchical) 데이터베이스 시스템
    - 데이터가 하나 이상의 트리 구조로 표현된다.
    - 단일 상위 계층 구조(single-parent hierarchy)
  - 네트워크 데이터베이스 시스템
    - 서로 다른 레코드 간의 관계를 정의하는 레코드셋과 링크셋을 나타낸다.
    - 다중 상위 계층 구조(multi-parent hierarchy)


### 1.1.2 관계형 모델
1970년, IBM의 Edgar Frank Codd 박사가 데이터를 테이블 집합으로 나타내는 **관계형 모델**을 제안했다. 중복 데이터를 사용하여 서로 다른 테이블의 레코드를 연결하는 방식이다.

각 테이블에는 해당 테이블의 행을 고유하게 식별하는 정보인 **기본 키(primary key)** 가 포함된다.
- 두 개 이상 열의 조합을 기본 키로 사용하는 것을 **복합 키(compound key)** 라고 한다.
- 테이블을 이루는 컬럼들 가운데 의미를 담고 있는 키를 기본 키로 사용하면 해당 키는 **자연 키(natural key)** 이다.
- 테이블을 이루는 컬럼들 가운데 유일하게 식별하기에 적합한 단일 후보키가 존재하지 않을 때, 임의의 식별번호로 이루어진 키를 기본 키로 사용하면 해당 키는 **대리 키(surrogate key)** 이다.


테이블 간에 연결된 키 값을 통해 특정한 열을 찾을 수 있는 열을 **외래 키(foreign key)** 라고 한다.

외래 키를 사용하여 다른 테이블에서 특정한 행을 찾는 것을 **조인(join)** 이라고 한다.

데이터베이스의 데이터 신뢰성을 위해, 테이블에는 각각의 독립적인 정보가 한 위치에만 저장되도록 해야한다. 이러한 목적으로 설계를 수정하는 절차를 **정규화(nomalization)** 이라고 한다.
- [Note] 모든 데이터베이스 서버는 기본 키의 값으로 사용할 고유한 번호 집합을 생성하는 메커니즘을 제공하므로, 어떤 번호가 할당될지 염려하지 않아도 된다.
- 참고 : [https://ssayebee.github.io/wiki/surrogate_vs_natural_key.html](https://ssayebee.github.io/wiki/surrogate_vs_natural_key.html)


### 1.1.3 주요 용어
- **엔터티 entity** : 데이터베이스에서 사용자들이 관심을 갖는 모든 요소(예를 들면 고객, 부품, 지리적 위치정보 등)
- **열 column** : 테이블에 저장된 개별적인 데이터 조각
- **행 row** : 엔터티 혹은 엔터티에 대한 작업 시 함께 동작하는 열의 집합. 레코드라고도 불림.
- **테이블 table** : 메모리 또는 영구 저장소에 있는 행의 집합
- **결과셋 result set** : 비 지속적 테이블의 다른 이름으로, 보통 SQL 쿼리의 결과물
- **기본 키 primary key** : 테이블의 각 행에 대한 고유 식별자로 사용할 수 있는 하나 이상의 열
- **외래 키 foreign key** : 다른 테이블에서 단일 행을 식별하는 데 사용할 수 있는 하나 이상의 열
- **복합 키 compound key** : 2개 이상의 열이 결합하여 고유한 값을 가지는 기본 키
- **자연 키 natural key** : 엔터티의 정보 중 고유한 값을 가져서 각 행마다 식별할 수 있는 의미를 가지는 열
- **대리 키 surrogate key** : 엔터티에서 파생된 정보가 아닌 임의의 고유 식별자로, 일련번호와 같은 가상의 값으로 기본 키의 역할을 하는 열


## 1.2 SQL
DSL/Alpha → SQUARE → SEQUEL(SQL) 로 발전해왔다.

SQL 쿼리의 결과(결과셋)는 테이블이므로 SQL은 관계형 모델과 밀접한 관련이 있다. 즉, 결과셋은 하나의 새로운 테이블이라고 볼 수 있다.


### 1.2.1 SQL 문 클래스
- SQL 스키마 문(SQL schema statement)
  - 데이터베이스에 저장된 데이터 구조를 정의할 때 사용된다.
  - SQL 스키마 문을 통해 작성된 모든 데이터베이스 요소는 **데이터 딕셔너리(data dictionary)**라는 특수한 테이블셋에 저장된다.


- SQL 데이터 문(SQL data statement)
    - SQL 스키마 문으로 정의한 데이터 구조를 조작할 때 사용된다.


- SQL 트랙잭션 문(SQL transaction statement)
    - 트랙잭션의 시작과 종료 및 롤백에 사용된다.

### 1.2.2 비절차적 언어인 SQL
- SQL문의 실행 방식은 **옵티마이저(optimizer)**라는 데이터베이스 엔진의 구성요소에게 일임되므로, SQL문 작성자가 직접 제어하지 않는다.
- 옵티마이저는 SQL문을 보고 테이블 구성 방법과 사용 가능한 인덱스를 고려하여 가장 효율적인 실행 경로를 결정한다.
- 그러나 언제나 가장 효율적인 것은 아니기에, 특정 인덱스를 사용할 것은 제안하는 **옵티마이저 힌트**를 지정하여 옵티마이저의 결정에 영향을 줄 수 있다.


### 1.2.3 SQL 예제
``` sql
SELECT /* one or more things */
FROM /* one or more places */
WHERE /* one or more conditions apply */
```
